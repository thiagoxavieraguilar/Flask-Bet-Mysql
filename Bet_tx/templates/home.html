{% extends "base.html" %} {% block title %}Bet_Txavier{% endblock %} 
{% block content%}
<!DOCTYPE html>
<html>
  <head>
    <title>Bet_Txavier</title>
    
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="shortcut icon" href="\static\imgs\bet_ico2.ico" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="stylesheet" type="text/css" href="/static/css/style-mobile.css" media="screen and (max-width: 768px)">

  </head>
  <body>
    <div class="image-container">

      <img name='logo'src="/static/imgs/logo_bet.png" alt="Second Image" width="350" height="300">

    </div>
    

    <div class="container">
      <div class="row">
        <!-- existing code -->
      </div>
      <div class="row">
        <div class="col-12 col-md-6 offset-md-6" id="info-container">
          <!-- box for displaying selected options -->
        </div>
      </div>
    </div>

    {% for mesg in get_flashed_messages() %}
      <h1>{{ mesg }}</h1>
    {% endfor %}
      <div class="container">
      <h1> The House Always Wins.</h1>
      <div class="row">
        <form method="post" action="{{ url_for('views.show_results') }}">
          {% for match in matches %}
            <div class="col-12 match-box">
              <h3>
                <img src="{{ url_for('static', filename='imgs/' ~ match['home_team'] ~ '.png') }}" width="50" height="50">
                {{ match['home_team'] }} vs {{ match['visit_team'] }}
                <img src="{{ url_for('static', filename='imgs/' ~ match['visit_team'] ~ '.png') }}" width="50" height="50">
              </h3>
              <div>
                <label>{{ match['home_team'] }}:</label>
                <input type="radio" name="{{ match['home_team'] }}" value="{{ match['home_team_odds'] }},vitoria"> Vitoria - {{ match['home_team_odds'] }}
                <br>
                <input type="radio" name="{{ match['home_team'] }}" value="{{ match['empate_odds'] }},Empate"> Empate - {{ match['empate_odds'] }}
                <br>
                <input type="radio" name="{{ match['home_team'] }}" value="{{ match['visit_team_odds'] }},Derrota"> Derrota - {{ match['visit_team_odds'] }}
              </div>
            </div>
          {% endfor %}
          
      
          <br>
          <label for="Valor aposta">Valor:</label>
          <br>
          <input type="text" id="valor" name="valor">
          <br>
          <button type="submit">Enviar</button>
          
          <button type="reset" onclick="clear_button()">limpar</button>
         <br>
         
          <script>
            function clear_button() {
              var botoes = document.querySelectorAll('input[type="radio"]');
              for(var i=0; i<botoes.length; i++) {
                botoes[i].checked = false;
              }
              var infoDiv = document.getElementById('info-container');
              infoDiv.innerHTML = '';
            }
            
            var selectedOptions = {};
            var opcoes = document.querySelectorAll('input[type="radio"]');
            opcoes.forEach(function(opcao) {
              opcao.addEventListener('change', function() {
                // get the name of the match
                var matchName = this.name;

                // remove any previously selected options for this match
                if (selectedOptions[matchName]) {
                  selectedOptions[matchName].forEach(function(selectedOption) {
                    selectedOption.checked = false;
                  });
                  delete selectedOptions[matchName];
                }

                // add the selected option to the selectedOptions object
                selectedOptions[matchName] = [this];

                // initialize the message for all matches
                var mensagem = '';
                for (var match in selectedOptions) {
                  mensagem += '<h3>' + match + '</h3>';
                  selectedOptions[match].forEach(function(selectedOption) {
                    var valor = selectedOption.value;
                    var partes = valor.split(",");
                    var odds = partes[0];
                    var resultado = partes[1];
                    mensagem += '<p>VocÃª selecionou ' + resultado + ' com odds de ' + odds + '</p>';
                  });
                }

                // update the box on the right side of the page with the message for all matches
                var infoDiv = document.getElementById('info-container');
                infoDiv.innerHTML = mensagem;
              });
            });
            
    

            function toggleDiv() {
            var infoContainer = document.getElementById("info-container");
            if (infoContainer.style.display === "none") {
              infoContainer.style.display = "block";
            } else {
              infoContainer.style.display = "none";
            }
          }

  
          </script>
        </form>    
      </div>
    </div>
    <button onclick="toggleDiv()">Mostrar selecionados</button>
    <footer>
      &copy; 2023 Thiago Xavier
    </footer>
  </body>
</html>
  {% endblock %}